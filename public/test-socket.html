<!DOCTYPE html>
<html>
<head>
  <title>Driver Test</title>
  <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
</head>
<body>
  <h1>Driver Test Interface</h1>
  <button onclick="goOnline()">Go Online</button>
  <button onclick="updateLocation()">Update Location</button>
  <button onclick="goOffline()">Go Offline</button>
  <div id="status"></div>

  <script>
    const socket = io('http://localhost:3001')
    const driverId = 'driver_' + Math.random().toString(36).substr(2, 9)

    socket.on('connect', () => {
      document.getElementById('status').innerHTML = `‚úÖ Connected as ${driverId}`
    })

    function goOnline() {
      socket.emit('driver:online', {
        userId: driverId,
        location: { lat: 28.7041, lng: 77.1025 },
        vehicleType: 'BIKE',
        vehicleNumber: 'DL01AB1234',
        vehicleModel: 'Honda Activa',
        licensePlate: 'DL01AB1234'
      })
      document.getElementById('status').innerHTML += '<br>üöó Went online!'
    }

    function updateLocation() {
      socket.emit('driver:location', {
        userId: driverId,
        location: {
          lat: 28.7041 + Math.random() * 0.01,
          lng: 77.1025 + Math.random() * 0.01
        }
      })
      document.getElementById('status').innerHTML += '<br>üìç Location updated!'
    }

    function goOffline() {
      socket.emit('driver:offline', { userId: driverId })
      document.getElementById('status').innerHTML += '<br>üî¥ Went offline!'
    }
  </script>
</body>
</html>